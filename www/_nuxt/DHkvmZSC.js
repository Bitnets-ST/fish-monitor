import{_ as u,a as p,b as f}from"./CGip5Mha.js";import{_ as h}from"./Cjxy6upx.js";import{_ as w,c as n,b as a,a as s,e as v,i as y,h as k,t as L,d as c,w as V,U as m,o as i}from"./6eDVTdRD.js";import{_ as N}from"./D1-BQGHN.js";const M={name:"LoginPage",components:{MouseEffectBackground:f,PasswordField:p,TextField:u},data(){return{username:"",password:"",errorMessage:"",isLoading:!1}},mounted(){m.isAuthenticated()&&this.$router.push("/")},methods:{async handleLogin(){var l;try{if(!this.username||!this.password){this.errorMessage="Por favor, completa todos los campos";return}this.isLoading=!0,this.errorMessage="";const o=await(await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})})).json();if(o.statusCode!==200)throw new Error(((l=o.body)==null?void 0:l.error)||"Error al iniciar sesión");m.login(o.body.user,o.body.token),this.$router.push("/")}catch(e){console.error("Error al iniciar sesión:",e),this.errorMessage=e.message||"Error al iniciar sesión"}finally{this.isLoading=!1}}}},E={class:"min-h-screen flex items-center justify-center relative px-4 py-6"},j={class:"flex flex-col md:flex-row w-full max-w-4xl rounded-2xl shadow-2xl overflow-hidden"},C={class:"w-full md:w-1/2 bg-white p-6 md:p-10 flex flex-col justify-center"},B={key:0,class:"p-3 bg-red-100 text-red-700 border border-red-200 rounded-md text-sm"},F=["disabled"],S={key:0},P={key:1},R={class:"text-center mt-4"},T={class:"text-gray-600 text-sm"};function U(l,e,o,A,t,d){const x=f,b=u,g=p,_=h;return i(),n("div",null,[a(x),s("div",E,[s("div",j,[s("div",C,[e[6]||(e[6]=s("div",{class:"flex flex-col items-center mb-6"},[s("div",{class:"w-20 h-20 md:w-24 md:h-24 rounded-full bg-white shadow-lg flex items-center justify-center p-1 mb-3"},[s("img",{src:N,alt:"FishCount Logo",class:"w-16 h-16 md:w-20 md:h-20 object-contain rounded-full"})]),s("h2",{class:"text-2xl md:text-3xl font-bold text-gray-800 mb-2"},"Bienvenido")],-1)),s("form",{class:"space-y-4",onSubmit:e[2]||(e[2]=v((...r)=>d.handleLogin&&d.handleLogin(...r),["prevent"]))},[a(b,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=r=>t.username=r),placeholder:"Usuario"},null,8,["modelValue"]),a(g,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=r=>t.password=r),placeholder:"Contraseña"},null,8,["modelValue"]),e[3]||(e[3]=y('<div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2" data-v-561b9c7a><div class="flex items-center" data-v-561b9c7a><input id="remember" type="checkbox" class="mr-2 w-4 h-4 accent-blue-500" data-v-561b9c7a><label for="remember" class="text-gray-600 text-sm select-none" data-v-561b9c7a>Recuérdame</label></div><a href="#" class="text-blue-500 text-sm hover:underline" data-v-561b9c7a>¿Olvidaste tu contraseña?</a></div>',1)),t.errorMessage?(i(),n("div",B,L(t.errorMessage),1)):k("",!0),s("button",{type:"submit",class:"w-full py-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 transition-colors tracking-wide uppercase",disabled:t.isLoading},[t.isLoading?(i(),n("span",S,"CARGANDO...")):(i(),n("span",P,"INGRESAR"))],8,F)],32),s("div",R,[s("p",T,[e[5]||(e[5]=c(" ¿No tienes una cuenta? ")),a(_,{to:"/register",class:"text-pink-500 font-semibold hover:underline ml-1"},{default:V(()=>e[4]||(e[4]=[c(" Regístrate ")])),_:1})])])]),e[7]||(e[7]=s("div",{class:"hidden md:block md:w-1/2 relative"},[s("div",{class:"absolute inset-0 bg-cover bg-center",style:{"background-image":"url('/Fondo_inicio.png')"}})],-1))])])])}const J=w(M,[["render",U],["__scopeId","data-v-561b9c7a"]]);export{J as default};
