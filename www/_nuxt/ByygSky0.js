import{_ as y}from"./Cjxy6upx.js";import{_ as m,k as d,U as h,c as i,o as a,a as s,b as c,w as x,d as b,F as M,r as $,n as p,t as f,T as N,l as C,h as A,G as z,P as w}from"./6eDVTdRD.js";import{_ as D}from"./D1-BQGHN.js";const L={name:"AppHeader",data(){return{username:"Admin",apiStatus:"connected"}},computed:{isDarkMode(){var e;return((e=d().$darkMode)==null?void 0:e.value)||!1}},mounted(){this.loadUserData(),this.checkApiStatus()},methods:{loadUserData(){const t=d();if(t.$userData)this.username=t.$userData.value.name||"Admin";else{const e=localStorage.getItem("user");if(e)try{const o=JSON.parse(e);o.name&&(this.username=o.name)}catch(o){console.error("Error al cargar datos del usuario:",o)}else{const o=h.getCurrentUser();o&&o.username&&(this.username=o.username)}}},logout(){localStorage.removeItem("user"),h.logout(),this.$router.push("/login")},checkApiStatus(){console.log("Verificando estado de API...")},toggleDarkMode(){const t=d();t.$toggleDarkMode&&t.$toggleDarkMode()}}},S={class:"fixed top-0 left-0 right-0 bg-gradient-to-r from-cyan-900 to-blue-900 dark:from-gray-900 dark:to-gray-800 text-white p-4 shadow-md z-20"},B={class:"container mx-auto flex justify-between items-center"},I={class:"flex items-center space-x-4"},P={class:"hidden md:flex space-x-4"},U={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},H={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"};function V(t,e,o,g,u,r){const n=y;return a(),i("header",S,[s("div",B,[e[7]||(e[7]=s("div",{class:"logo-container flex items-center"},[s("img",{src:D,alt:"Logo",class:"h-8 w-8 mr-3"}),s("span",{class:"text-lg font-semibold text-white"},"Bitnets Fish Monitor")],-1)),s("div",I,[e[5]||(e[5]=s("div",{class:"bg-green-500 rounded-full w-2 h-2 mr-1"},null,-1)),e[6]||(e[6]=s("span",{class:"text-sm mr-4"},"API Conectada",-1)),s("nav",P,[c(n,{to:"/",class:"hover:text-cyan-300 transition"},{default:x(()=>e[2]||(e[2]=[b("Dashboard")])),_:1})]),s("button",{class:"p-2 rounded-full hover:bg-gray-700/30 transition",onClick:e[0]||(e[0]=(...l)=>r.toggleDarkMode&&r.toggleDarkMode(...l)),"aria-label":"Cambiar modo oscuro"},[r.isDarkMode?(a(),i("svg",U,e[3]||(e[3]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)]))):(a(),i("svg",H,e[4]||(e[4]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])))]),s("button",{class:"bg-red-600 hover:bg-red-700 text-white py-1 px-3 rounded text-sm transition",onClick:e[1]||(e[1]=(...l)=>r.logout&&r.logout(...l))}," Cerrar sesión ")])])])}const v=m(L,[["render",V]]),T={name:"NotificationSystem",data(){return{notifications:[],nextId:1}},methods:{addNotification(t){const e=this.nextId++,o={id:e,title:t.title||"Notificación",message:t.message||"",type:t.type||"info",timeout:t.timeout||5e3};return this.notifications.push(o),o.timeout>0&&setTimeout(()=>{this.removeNotification(e)},o.timeout),e},removeNotification(t){const e=this.notifications.findIndex(o=>o.id===t);e!==-1&&this.notifications.splice(e,1)},getNotificationClass(t){switch(t){case"success":return"bg-green-600 dark:bg-green-700 shadow-green-200 dark:shadow-green-900/20";case"error":return"bg-red-600 dark:bg-red-700 shadow-red-200 dark:shadow-red-900/20";case"warning":return"bg-yellow-600 dark:bg-yellow-700 shadow-yellow-200 dark:shadow-yellow-900/20";default:return"bg-blue-600 dark:bg-blue-700 shadow-blue-200 dark:shadow-blue-900/20"}},success(t,e="Éxito"){return this.addNotification({title:e,message:t,type:"success"})},error(t,e="Error"){return this.addNotification({title:e,message:t,type:"error"})},warning(t,e="Advertencia"){return this.addNotification({title:e,message:t,type:"warning"})},info(t,e="Información"){return this.addNotification({title:e,message:t,type:"info"})}}},j={class:"fixed top-20 right-4 z-50 w-80"},E={class:"mr-3 mt-0.5"},F={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-white",viewBox:"0 0 20 20",fill:"currentColor"},G={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-white",viewBox:"0 0 20 20",fill:"currentColor"},J={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-white",viewBox:"0 0 20 20",fill:"currentColor"},O={key:3,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-white",viewBox:"0 0 20 20",fill:"currentColor"},R={class:"flex-1 pr-8"},q={class:"font-medium text-white"},K={class:"text-sm text-white text-opacity-90"},Q=["onClick"];function W(t,e,o,g,u,r){return a(),i("div",j,[c(N,{name:"notification"},{default:x(()=>[(a(!0),i(M,null,$(u.notifications,n=>(a(),i("div",{key:n.id,class:p(["mb-3 p-4 rounded-lg shadow-lg flex items-start",r.getNotificationClass(n.type)])},[s("div",E,[n.type==="success"?(a(),i("svg",F,e[0]||(e[0]=[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)]))):n.type==="error"?(a(),i("svg",G,e[1]||(e[1]=[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)]))):n.type==="warning"?(a(),i("svg",J,e[2]||(e[2]=[s("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"},null,-1)]))):(a(),i("svg",O,e[3]||(e[3]=[s("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"},null,-1)])))]),s("div",R,[s("div",q,f(n.title),1),s("div",K,f(n.message),1)]),s("button",{onClick:l=>r.removeNotification(n.id),class:"absolute top-2 right-2 text-white text-opacity-80 hover:text-opacity-100"},e[4]||(e[4]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),8,Q)],2))),128))]),_:1})])}const _=m(T,[["render",W],["__scopeId","data-v-e9de1779"]]),X={name:"DefaultLayout",components:{AppHeader:v,NotificationSystem:_},computed:{isLoginPage(){return(this._.provides[w]||this.$route).path==="/login"||(this._.provides[w]||this.$route).path==="/register"},isDarkMode(){var e;return((e=d().$darkMode)==null?void 0:e.value)||!1}},mounted(){const t=d();t.$notifications&&t.$notifications.setNotificationSystem(this.$refs.notificationSystem)}},Y={class:"page-content bg-skin-base dark:bg-gray-900 dark:text-white min-h-screen"};function Z(t,e,o,g,u,r){const n=v,l=_,k=z;return a(),i("div",{class:p({dark:r.isDarkMode})},[s("div",Y,[r.isLoginPage?A("",!0):(a(),C(n,{key:0})),c(l,{ref:"notificationSystem"},null,512),s("div",{class:p({"pt-16":!r.isLoginPage})},[c(k)],2)])],2)}const oe=m(X,[["render",Z],["__scopeId","data-v-f12e3a7b"]]);export{oe as default};
