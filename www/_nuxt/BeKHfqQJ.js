import{_ as g,a as h,b as w}from"./CGip5Mha.js";import{_ as b}from"./Cjxy6upx.js";import{_ as y,c as a,b as t,a as o,e as v,h as V,t as k,d as p,w as M,U as f,o as i}from"./6eDVTdRD.js";import{_ as P}from"./D1-BQGHN.js";const R={name:"RegisterPage",components:{MouseEffectBackground:w,PasswordField:h,TextField:g},data(){return{name:"",email:"",username:"",password:"",confirmPassword:"",errorMessage:"",isLoading:!1}},mounted(){f.isAuthenticated()&&this.$router.push("/")},methods:{async handleRegister(){var l;try{if(!this.name||!this.email||!this.username||!this.password||!this.confirmPassword){this.errorMessage="Por favor, completa todos los campos";return}if(this.password!==this.confirmPassword){this.errorMessage="Las contraseñas no coinciden";return}if(this.password.length<6){this.errorMessage="La contraseña debe tener al menos 6 caracteres";return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.email)){this.errorMessage="Por favor, ingresa un correo electrónico válido";return}this.isLoading=!0,this.errorMessage="";const d=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.name,email:this.email,username:this.username,password:this.password})}),n=await d.json();if(!d.ok)throw new Error(((l=n.body)==null?void 0:l.error)||"Error al registrar usuario");f.login(n.body.user,n.body.token),this.$router.push("/")}catch(e){console.error("Error al registrar usuario:",e),this.errorMessage=e.message||"Error al registrar usuario"}finally{this.isLoading=!1}}}},E={class:"min-h-screen flex items-center justify-center relative px-4 py-6"},L={class:"flex flex-col md:flex-row w-full max-w-4xl rounded-2xl shadow-2xl overflow-hidden"},C={class:"w-full md:w-1/2 bg-white p-6 md:p-10 flex flex-col justify-center"},N={key:0,class:"p-3 bg-red-100 text-red-700 border border-red-200 rounded-md text-sm"},U=["disabled"],j={key:0},F={key:1},S={class:"text-center mt-4"},T={class:"text-gray-600 text-sm"};function B(l,e,d,n,s,u){const x=w,m=g,c=h,_=b;return i(),a("div",null,[t(x),o("div",E,[o("div",L,[o("div",C,[e[8]||(e[8]=o("div",{class:"flex flex-col items-center mb-6"},[o("div",{class:"w-20 h-20 md:w-24 md:h-24 rounded-full bg-white shadow-lg flex items-center justify-center p-1 mb-3"},[o("img",{src:P,alt:"FishCount Logo",class:"w-16 h-16 md:w-20 md:h-20 object-contain rounded-full"})]),o("h2",{class:"text-xl md:text-3xl font-bold text-gray-800 mb-2"},"Registro de usuario")],-1)),o("form",{class:"space-y-4",onSubmit:e[5]||(e[5]=v((...r)=>u.handleRegister&&u.handleRegister(...r),["prevent"]))},[t(m,{modelValue:s.name,"onUpdate:modelValue":e[0]||(e[0]=r=>s.name=r),placeholder:"Nombre completo"},null,8,["modelValue"]),t(m,{modelValue:s.email,"onUpdate:modelValue":e[1]||(e[1]=r=>s.email=r),type:"email",placeholder:"Correo electrónico"},null,8,["modelValue"]),t(m,{modelValue:s.username,"onUpdate:modelValue":e[2]||(e[2]=r=>s.username=r),placeholder:"Usuario"},null,8,["modelValue"]),t(c,{modelValue:s.password,"onUpdate:modelValue":e[3]||(e[3]=r=>s.password=r),placeholder:"Contraseña"},null,8,["modelValue"]),t(c,{modelValue:s.confirmPassword,"onUpdate:modelValue":e[4]||(e[4]=r=>s.confirmPassword=r),placeholder:"Confirmar contraseña"},null,8,["modelValue"]),s.errorMessage?(i(),a("div",N,k(s.errorMessage),1)):V("",!0),o("button",{type:"submit",class:"w-full py-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600 transition-colors tracking-wide uppercase",disabled:s.isLoading},[s.isLoading?(i(),a("span",j,"CARGANDO...")):(i(),a("span",F,"REGISTRARSE"))],8,U)],32),o("div",S,[o("p",T,[e[7]||(e[7]=p(" ¿Ya tienes una cuenta? ")),t(_,{to:"/login",class:"text-pink-500 font-semibold hover:underline ml-1"},{default:M(()=>e[6]||(e[6]=[p(" Iniciar sesión ")])),_:1})])])]),e[9]||(e[9]=o("div",{class:"hidden md:block md:w-1/2 relative overflow-hidden"},[o("div",{class:"absolute inset-0 bg-cover bg-center transform scale-110 rotate-3",style:{"background-image":"url('/Fondo.jpg')"}}),o("div",{class:"absolute inset-0 bg-blue-500 bg-opacity-20"})],-1))])])])}const G=y(R,[["render",B],["__scopeId","data-v-81c52677"]]);export{G as default};
